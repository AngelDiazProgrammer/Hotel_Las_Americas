<div th:fragment="vistaHabitaciones" id="habitaciones-container">

    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap">
        <h1>üè® Gesti√≥n de Habitaciones</h1>
        <span class="badge bg-primary">
            Total: <span th:text="${totalHabitaciones}">0</span> habitaciones
        </span>
    </div>

    <!-- Tabla -->
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0">
                <i class="fas fa-bed me-2"></i>
                Lista de Habitaciones
            </h5>
        </div>

        <div class="card-body">

            <div class="table-responsive">
                <table class="table table-striped table-hover">
                    <thead class="table-dark">
                        <tr>
                            <th>#</th>
                            <th>N√∫mero</th>
                            <th>Piso</th>
                            <th>Capacidad</th>
                            <th>Precio/Noche</th>
                            <th>Caracter√≠sticas</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr th:each="hab, stat : ${habitaciones}">
                            <td th:text="${paginaActual * 10 + stat.index + 1}">1</td>

                            <td><strong th:text="${hab.numeroHabitacion}"></strong></td>

                            <td>
                                <span class="badge bg-secondary" th:text="${hab.piso}"></span>
                            </td>

                            <td>
                                <span class="badge bg-info" th:text="${hab.capacidad} + ' personas'"></span>
                            </td>

                            <td>
                                <strong class="text-success"
                                    th:text="'$' + ${#numbers.formatDecimal(hab.precioNoche, 0, 'COMMA', 0, 'POINT')}">
                                </strong>
                            </td>

                            <td>
                                <small class="text-muted" th:text="${hab.caracteristicas}"></small>
                            </td>

                            <td>
                                <button class="btn btn-sm btn-outline-primary">
                                    <i class="fas fa-edit"></i> Editar
                                </button>
                                <button class="btn btn-sm btn-outline-info ms-1">
                                    <i class="fas fa-eye"></i> Ver
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Vac√≠o -->
            <div th:if="${habitaciones.size() == 0}" class="text-center py-4">
                <i class="fas fa-bed fa-3x text-muted mb-3"></i>
                <h5 class="text-muted">No hay habitaciones registradas</h5>
                <p class="text-muted">Agrega algunas habitaciones para comenzar.</p>
            </div>

            <!-- Paginaci√≥n -->
            <nav th:if="${totalPaginas > 1}" class="mt-3">
                <ul class="pagination justify-content-center">

                    <li class="page-item" th:classappend="${paginaActual == 0} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{'/vistas/habitaciones'(page=${paginaActual - 1})}">
                            Anterior
                        </a>
                    </li>

                    <li class="page-item"
                        th:each="i : ${#numbers.sequence(0, totalPaginas - 1)}"
                        th:classappend="${i == paginaActual} ? 'active'">
                        <a class="page-link"
                           th:text="${i + 1}"
                           th:href="@{'/vistas/habitaciones'(page=${i})}">
                        </a>
                    </li>

                    <li class="page-item" th:classappend="${paginaActual + 1 == totalPaginas} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{'/vistas/habitaciones'(page=${paginaActual + 1})}">
                            Siguiente
                        </a>
                    </li>

                </ul>
            </nav>

        </div>
</div>
